<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard com Gr√°ficos</title>
    <link rel="stylesheet" href="css/Dashboard(JoaoLazaro).css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body onload="inicializarGraficos()">

    <div class="NavBar">
        <div><img class="LogoNavBar" src="./assets/Logo Quantum.svg" alt=""></div>
        <div class="div1">
            <a class="botaoNavBar" href="">
                <p>Home</p>
            </a>
            <a class="botaoNavBar" href="">
                <p>Previs√µes</p>
            </a>
            <a class="botaoNavBar" href="">
                <p>Funcion√°rio</p>
            </a>
            <a class="botaoNavBar" href="">
                <p>Servidor</p>
            </a>
            <a class="botaoNavBar" href="">
                <p>Perfil</p>
            </a>
        </div>
    </div>

    <section class="Monitoramento">
        <div class="div1-container">
            <div class="box1">

                <div class="DivComponente">
                    <h1 style="color: white; position: absolute; margin-top: -40px; margin-left: 10px;">Componentes que
                        passaram do limite</h1>
                    <div class="listaServidores">

                        <table id="tabela-servidores" class="Tabela">
                            <thead>
                                <tr class="tituloTabela">
                                    <th style="font-size: 15px; margin-left: 20px;">Servidor</th>
                                    <th style="font-size: 15px; margin-left: 40px;">Componente</th>
                                    <th style="font-size: 15px; margin-left: 20px;">Uso(%)</th>
                                    <th style="font-size: 15px; margin-left: 20px;">Limite</th>
                                </tr>
                            </thead>
                            <tbody style=" display: flex; flex-direction: column; font-size: 20px;">

                            </tbody>
                        </table>

                    </div>
                </div>
                <h1 style="color: white; position: absolute; margin-top: -30px; margin-left: 680px;">Quantidade de
                    alerta por componente</h1>
                <div class="DivAlertas"><canvas id="graficoAlerta"></canvas></div>
            </div>

            <div style="margin-top: 110px; margin-left: 190px;">
                <div class="box2">
                    <div class="card1">
                        <p class="TotalServidores"><b>Total de Servidores</b> <br><br>
                        <div class="textoCard1"></div>
                        </p>
                    </div>

                    <div class="cardDesativados">
                        <p class="TotalServidoresDesativados"><b>Desativados</b> <br><br>
                            
                            <p style="position: absolute; margin-top: 30px; color: white;" ><b>Clique no card branco abaixo para</b></p>
                            <p style="position: absolute; margin-top: 50px; color: white;" ><b>mais informa√ß√µes!!</b></p>
                        <div class="textoCard2" id="cardDesativados"></div>
                        </p>
                    </div>

                    <div class="cardAtivados">
                        <p class="TotalServidores"><b>Ativados</b> <br><br>
                        <div class="textoCard3"></div>
                        </p>
                    </div>
                </div>

                <div style="margin-left: -360px; margin-top: -80px;">
                    <p class="Titulo_Grafico_CPU"><b>M√°ximo e m√≠nimo do uso de CPU</b></p>
                    <div class="card3"><canvas id="graficoCPU"></canvas></div>
                    
                    <p class="Titulo_Grafico_Memoria"><b>m√°ximo e m√≠nimo do uso de RAM</b></p>
                    <div class="card4"><canvas id="graficoMemoria"></canvas></div>
                    <p class="Titulo_Grafico_Disco"><b>M√°ximo e m√≠nimo do uso de Disco</b></p>
                    <div class="card5"><canvas id="graficoDisco"></canvas></div>
                </div>
            </div>

            <div class="tooltip">
                <div class="icon">i</div>
                <div class="tooltiptext">
                    <p>Estado Cr√≠tico üî¥: Um servidor √© considerado em estado cr√≠tico quando o tempo de downtime √© muito alto ou a frequ√™ncia de falhas √© recorrente. Esse estado indica que o servidor est√° impactando as opera√ß√µes, podendo levar a interrup√ß√µes do servi√ßo PEP.</p>
                    <p>Estado de Alerta üü°: O estado de alerta √© ativado quando o tempo de downtime √© moderado, mas ainda pode ser motivo de preocupa√ß√£o. Embora n√£o haja impacto imediato, o servidor precisa ser monitorado de perto. A interven√ß√£o pode ser necess√°ria para evitar que o problema se agrave.</p>
                    <p>Estado Normal üü¢: O estado normal √© quando o servidor n√£o apresenta problemas significativos de downtime e est√° operando dentro dos par√¢metros esperados. Manuten√ß√£o regular e monitoramento s√£o suficientes para garantir sua opera√ß√£o.</p>
                    <p><strong>Como Utilizar As Categorias:</strong> Servidores cr√≠ticos exigem corre√ß√£o imediata, os em alerta precisam de acompanhamento pr√≥ximo e os normais requerem monitoramento regular para preven√ß√£o.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Informa√ß√µes sobre o servidor desativado</h2>
            <!-- <p>Aqui voc√™ pode colocar mais informa√ß√µes ou detalhes sobre os servidores desativados.</p> -->
            <div class="listaServidores">

                <table id="tabela-servidores2" class="Tabela2">
                    <thead style="border: 2px solid white;">
                        <tr class="tituloTabela">
                            
                            <th style="font-size: 15px; margin-left: 50px;">Servidor</th>
                            <th style="font-size: 15px; margin-left: 90px;">Motivo da inatividade</th>
                       
                        </tr>
                    </thead>
                    <tbody style=" display: flex; flex-direction: column; font-size: 20px;">

                    </tbody>
                </table>
            </div>
        </div>

        <div class="tooltip">
            <div class="icon">i</div>
            <div class="tooltiptext">
                <p>Estado Cr√≠tico üî¥: Um servidor √© considerado em estado cr√≠tico quando o tempo de downtime √© muito alto ou a frequ√™ncia de falhas √© recorrente. Esse estado indica que o servidor est√° impactando as opera√ß√µes, podendo levar a interrup√ß√µes do servi√ßo PEP.</p>
                <p>Estado de Alerta üü°: O estado de alerta √© ativado quando o tempo de downtime √© moderado, mas ainda pode ser motivo de preocupa√ß√£o. Embora n√£o haja impacto imediato, o servidor precisa ser monitorado de perto. A interven√ß√£o pode ser necess√°ria para evitar que o problema se agrave.</p>
                <p>Estado Normal üü¢: O estado normal √© quando o servidor n√£o apresenta problemas significativos de downtime e est√° operando dentro dos par√¢metros esperados. Manuten√ß√£o regular e monitoramento s√£o suficientes para garantir sua opera√ß√£o.</p>
                <p><strong>Como Utilizar As Categorias:</strong> Servidores cr√≠ticos exigem corre√ß√£o imediata, os em alerta precisam de acompanhamento pr√≥ximo e os normais requerem monitoramento regular para preven√ß√£o.</p>
            </div>
        </div>

</body>

</html>

<script>

    function inicializarGraficos() {
        criarGraficoCPU();
        criarGraficoMemoria();
        criarGraficoDisco();
        criarGraficoUptime();
        criarGraficoAlerta();
        atualizarNumeroServidores();
        buscarNumeroServidoresDesativado();
        buscarNumeroServidoresAtivado();
        carregarComponentesPorServidor();
        buscarDescricaoDesativados();
    }

    // Pegando o modal
    var modal = document.getElementById("modal");

    // Pegando o elemento com id 'cardDesativados'
    var cardDesativados = document.getElementById("cardDesativados");

    // Pegando o bot√£o de fechar do modal
    var span = document.getElementsByClassName("close")[0];

    // Quando clicar na div 'cardDesativados', abrir o modal
    cardDesativados.addEventListener("click", function () {
        modal.style.display = "block";
    });

    // Quando clicar no "x", fechar o modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // Quando clicar fora do modal, fech√°-lo
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }



    function carregarComponentesPorServidor(idServidor) {
        fetch(`/graficosLazaro/ComponentePorServidor:idServidor`, {
            method: "GET",
            headers: {
                "Content-Type": "application/json"
            }
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro HTTP: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log("Dados recebidos da API:", data);

                const tabelaServidores = document.getElementById('tabela-servidores').querySelector('tbody');
                tabelaServidores.innerHTML = "";

                if (data.length === 0) {
                    const linhaVazia = document.createElement('tr');
                    linhaVazia.innerHTML = `<td colspan="4">Nenhum componente ultrapassou o limite para este servidor.</td>`;
                    tabelaServidores.appendChild(linhaVazia);
                } else {

                    data.forEach(item => {
                        const { Servidor, Componente, Uso, Limite } = item;

                        const linha = document.createElement('tr');
                        linha.innerHTML = `
                    <table id="tabela-servidores">
                            <thead">
                        <th style="font-size: 19.5px;">${item.Servidor || "Desconhecido"}</th>
                        <th style="font-size: 19.5px;">${item.Componente || "Desconhecido"}</th>
                        <th style="font-size: 19.5px;">${item.Uso || 0}%</th>
                        <th style="font-size: 19.5px;">${item.Limite || 0}%</th>
                        </thead>
                            <tbody style=" display: flex; flex-direction: column;">  

                            </tbody>
                        </table>
                    `;

                        tabelaServidores.appendChild(linha);
                    });
                }
            })
            .catch(error => {
                console.error('Erro ao capturar os dados:', error);
            });
    }

    function buscarDescricaoDesativados(idServidor) {
        fetch(`/graficosLazaro/buscarDescricaoDesativados:idServidor`, {
            method: "GET",
        headers: {
            "Content-Type": "application/json"
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error(`Erro HTTP: ${response.status}`);
        }
        return response.json();
    })
    .then(data => {
        console.log("Dados recebidos da API:", data);

        const tabelaServidores = document.getElementById('tabela-servidores2').querySelector('tbody');
        tabelaServidores.innerHTML = ""; // Limpa a tabela

        if (data.length === 0) {
            const linhaVazia = document.createElement('tr');
            linhaVazia.innerHTML = `<td colspan="2">Nenhum servidor desativado encontrado.</td>`;
            tabelaServidores.appendChild(linhaVazia);
        } else {
            // Iterando sobre os dados recebidos
            data.forEach(item => {
                // Acessando as propriedades Servidor e Motivo
                const { Servidor, Motivo } = item;

                // Se Motivo for null, substitui por uma mensagem padr√£o
                const motivoTexto = Motivo || "Motivo n√£o informado";

                // Criando a linha da tabela
                const linha = document.createElement('tr');
                linha.innerHTML = `
            <thead">
                    <td style="font-size: 19px;">${Servidor || "Servidor desconhecido"}</td>
                    <td style="font-size: 18px;">${motivoTexto || "Descri√ß√£o n√£o fornecida"} </td>
                    </thead>
                `;

                tabelaServidores.appendChild(linha); // Adicionando a linha na tabela
            });
        }
    })
    .catch(error => {
        console.error('Erro ao capturar os dados:', error);
    });
}


    function atualizarNumeroServidores() {
        fetch("/graficosLazaro/numeroTotal:idServidor")
            .then(response => {
                if (!response.ok) {
                    throw new Error("Erro ao buscar o n√∫mero total de servidores");
                }
                return response.json();
            })
            .then(data => {

                const totalServidores = data[0]["count(*)"];
                document.querySelector(".textoCard1").textContent = totalServidores;
            })
            .catch(error => {
                console.error("Erro:", error);
            });
    }

    function buscarNumeroServidoresDesativado() {
        fetch("/graficosLazaro/numeroDesativados:idServidor")
            .then(response => {
                if (!response.ok) {
                    throw new Error("Erro ao buscar o n√∫mero total de servidores");
                }
                return response.json();
            })
            .then(data => {

                const totalServidoresDesativados = data[0].servidores_desativados;
                document.querySelector(".textoCard2").textContent = totalServidoresDesativados;
            })
            .catch(error => {
                console.error("Erro:", error);
            });
    }

    function buscarNumeroServidoresAtivado() {
        fetch("/graficosLazaro/numeroAtivados:idServidor")
            .then(response => {
                if (!response.ok) {
                    throw new Error("Erro ao buscar o n√∫mero total de servidores");
                }
                return response.json();
            })
            .then(data => {

                const totalServidoresAtivados = data[0].servidores_Ativados;
                document.querySelector(".textoCard3").textContent = totalServidoresAtivados;
            })
            .catch(error => {
                console.error("Erro:", error);
            });
    }

    function criarGraficoCPU() {
        fetch(`/graficosLazaro/MediaCPU:idServidor`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    plotarGraficoMediaCPU(resposta);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obten√ß√£o dos dados p/ gr√°fico: ${error.message}`);
            });
    }

    function plotarGraficoMediaCPU(resposta) {
        console.log('Iniciando plotagem do gr√°fico com m√°ximos e m√≠nimos por dia...');

        function obterDiaDaSemana(data) {
            const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
            const dia = new Date(data);
            return diasSemana[dia.getDay()];
        }

        let labels = [];
        let maxValues = [];
        let minValues = [];

        resposta.forEach((registro) => {
            const diaDaSemana = obterDiaDaSemana(registro.dia);
            labels.push(diaDaSemana);
            maxValues.push(registro.maxUsoCPU);
            minValues.push(registro.minUsoCPU);
        });

        let dadosCPU = {
            labels: labels,
            datasets: [
                {
                    label: 'Uso M√°ximo da CPU',
                    data: maxValues,
                    backgroundColor: 'white',
                    borderColor: 'white',
                    borderWidth: 1
                },
                {
                    label: 'Uso M√≠nimo da CPU',
                    data: minValues,
                    backgroundColor: '#2f2258',
                    borderColor: 'white',
                    borderWidth: 1
                }
            ]
        };

        const config = {
            type: 'bar',
            data: dadosCPU,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: 'white'
                        }
                    },
                    y: {
                        ticks: {
                            color: 'white',
                            callback: function (value) { return value + '%' }
                        },
                        max: 100,
                    }
                }
            }
        };

        let myChart = new Chart(
            document.getElementById(`graficoCPU`),
            config
        );
    }

    function criarGraficoMemoria() {
        fetch(`/graficosLazaro/MediaRAM:idServidor`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    plotarGraficoMediaRAM(resposta);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obten√ß√£o dos dados p/ gr√°fico: ${error.message}`);
            });
    }

    function plotarGraficoMediaRAM(resposta) {
        console.log('Iniciando plotagem do gr√°fico com m√°ximos e m√≠nimos por dia...');

        function obterDiaDaSemana(data) {
            const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
            const dia = new Date(data);
            return diasSemana[dia.getDay()];
        }

        let labels = [];
        let maxValues = [];
        let minValues = [];

        resposta.forEach((registro) => {
            const diaDaSemana = obterDiaDaSemana(registro.dia);
            labels.push(diaDaSemana);
            maxValues.push(registro.maxUsoRAM);
            minValues.push(registro.minUsoRAM);
        });

        let dadosCPU = {
            labels: labels,
            datasets: [
                {
                    label: 'Uso M√°ximo da CPU',
                    data: maxValues,
                    backgroundColor: 'white',
                    borderColor: 'white',
                    borderWidth: 1
                },
                {
                    label: 'Uso M√≠nimo da CPU',
                    data: minValues,
                    backgroundColor: '#2f2258',
                    borderColor: 'white',
                    borderWidth: 1
                }
            ]
        };

        const config = {
            type: 'bar',
            data: dadosCPU,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: 'white'
                        }
                    },
                    y: {
                        ticks: {
                            color: 'white',
                            callback: function (value) { return value + '%' }
                        },
                        max: 100,
                    }
                }
            }
        };

        let myChart = new Chart(
            document.getElementById(`graficoMemoria`),
            config
        );
    }

    function criarGraficoDisco() {
        fetch(`/graficosLazaro/MediaDisco:idServidor`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    plotarGraficoMediaDisco(resposta);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obten√ß√£o dos dados p/ gr√°fico: ${error.message}`);
            });
    }

    function plotarGraficoMediaDisco(resposta) {
        console.log('Iniciando plotagem do gr√°fico com m√°ximos e m√≠nimos por dia...');

        function obterDiaDaSemana(data) {
            const diasSemana = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
            const dia = new Date(data);
            return diasSemana[dia.getDay()];
        }

        let labels = [];
        let maxValues = [];
        let minValues = [];

        resposta.forEach((registro) => {
            const diaDaSemana = obterDiaDaSemana(registro.dia);
            labels.push(diaDaSemana);
            maxValues.push(registro.maxUsoDisco);
            minValues.push(registro.minUsoDisco);
        });

        let dadosCPU = {
            labels: labels,
            datasets: [
                {
                    label: 'Uso M√°ximo da CPU',
                    data: maxValues,
                    backgroundColor: 'white',
                    borderColor: 'white',
                    borderWidth: 1
                },
                {
                    label: 'Uso M√≠nimo da CPU',
                    data: minValues,
                    backgroundColor: '#2f2258',
                    borderColor: 'white',
                    borderWidth: 1
                }
            ]
        };

        const config = {
            type: 'bar',
            data: dadosCPU,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: 'white'
                        }
                    },
                    y: {
                        ticks: {
                            color: 'white',
                            callback: function (value) { return value + '%' }
                        },
                        max: 100,
                    }
                }
            }
        };

        let myChart = new Chart(
            document.getElementById(`graficoDisco`),
            config
        );
    }

    function criarGraficoAlerta() {
        fetch(`/graficosLazaro/alertasPorComponente:idServidor`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    plotarGraficoAlertas(resposta);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obten√ß√£o dos dados p/ gr√°fico: ${error.message}`);
            });
    }

    function plotarGraficoAlertas(resposta) {
        console.log('iniciando plotagem do gr√°fico...');

        let labels = ['CPU', 'RAM', 'Disco'];
        let dadosCPU = {
            labels: labels,
            datasets: [
                {
                    label: '',
                    data: [],
                    backgroundColor: '#2f2258',
                    borderColor: 'white',
                    borderWidth: 1
                }
            ]
        };

        console.log('----------------------------------------------');
        console.log('Estes dadosCPU foram recebidos pela funcao "obterdadosCPUGrafico" e passados para "plotarGraficoPeso":');
        console.log(resposta);

        resposta.forEach((registro) => {
            console.log(registro);
            dadosCPU.datasets[0].data.push(registro.total_alertas);
        });


        console.log('----------------------------------------------');
        console.log('O gr√°fico ser√° plotado com os respectivos valores:');
        console.log('Labels:', labels);
        console.log('dadosCPU:', dadosCPU.datasets);
        console.log('----------------------------------------------');

        const config = {
            type: 'bar',
            data: dadosCPU,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: '',
                        color: 'white',
                        font: {
                            size: 20
                        }
                    },
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 14
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: 'white'
                        }
                    },
                    y: {
                        ticks: {
                            color: 'white'
                        },
                        max: 30,
                    }
                }
            }
        };

        let myChart = new Chart(
            document.getElementById(`graficoAlerta`),
            config
        );
    }

    function criarGraficoUptime() {

        fetch(`/graficosLazaro/uptime:idServidor`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    plotarGraficoUptime(resposta);

                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obten√ß√£o dos dados p/ gr√°fico: ${error.message}`);
            });
    }

    let myChartUptime;

    function plotarGraficoUptime(resposta) {
        console.log('iniciando plotagem do gr√°fico...');

        if (myChartUptime) {
            myChartUptime.destroy();
        }


        let labels = ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b', 'Dom'];
        let dados = {
            labels: labels,
            datasets: [
                {
                    label: 'Servidor 1 - Uptime (%)',
                    data: [],
                    backgroundColor: '#2f2258',
                    borderColor: 'white',
                    borderWidth: 1
                },
                {
                    label: 'Servidor 2 - Uptime (%)',
                    data: [],
                    backgroundColor: '#6743a5',
                    borderColor: 'white',
                    borderWidth: 1
                },
                {
                    label: 'Servidor 3 - Uptime (%)',
                    data: [],
                    backgroundColor: 'white',
                    borderColor: 'white',
                    borderWidth: 1
                }
            ]
        };

        console.log('----------------------------------------------');
        console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGraficoPeso":');
        console.log(resposta);


        resposta.forEach((registro) => {
            dados.datasets[0].data.push(registro.uptime_percent);
            dados.datasets[1].data.push(registro.uptime_percent);
            dados.datasets[2].data.push(registro.uptime_percent);
        });

        console.log('----------------------------------------------');
        console.log('O gr√°fico ser√° plotado com os respectivos valores:');
        console.log('Labels:', labels);
        console.log('Dados:', dados.datasets);
        console.log('----------------------------------------------');


        const config = {
            type: 'bar',
            data: dados,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Uptime Semanal dos Servidores',
                        color: 'white',
                        font: {
                            size: 20
                        }
                    },
                    legend: {
                        labels: {
                            color: 'white',
                            font: {
                                size: 14
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: 'white'
                        }
                    },
                    y: {
                        ticks: {
                            color: 'white',
                            callback: function (value) { return value + '%' }
                        },
                        max: 100,
                    }
                }
            }
        };

        myChartUptime = new Chart(document.getElementById('graficoUptime'), config);
    }


</script>

</body>

</html>